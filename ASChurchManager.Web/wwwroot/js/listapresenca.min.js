function PreparaLista(){var n=[];return $(".ckbMembro").each(function(t,i){n.push({MembroId:$(i).data("membroid"),Situacao:$(i).prop("checked")})}),n}function PesquisaDadosBatismo(n){if(n!=undefined&&n!=null&&n!=""){let t=`${urlPastores}?idBatismo=${n}`;$.ajaxGet(t,n=>{$("#divPastores").html(n)});let i=`${urlCandidatos}?idBatismo=${n}`;$.ajaxGet(i,n=>{$("#divCandidatos").html(n),$("[data-toggle='toggle']").bootstrapToggle("destroy"),$("[data-toggle='toggle']").bootstrapToggle()})}else $("#divPastores").html(""),$("#divCandidatos").html("")}$(function(){"use strict";document.getElementById("DataBatismo").options.length===1&&PesquisaDadosBatismo($("#DataBatismo").val());$("#DataBatismo").change(n=>{n.preventDefault(),PesquisaDadosBatismo($("#DataBatismo").val())});$("#btnSalvarLista").click(function(n){n.preventDefault();$("#DataBatismo").val()!==null&&$("#DataBatismo").val()!==""?$.showYesNoAlert(`Deseja Salvar a Lista de Presença do Batismo para a data ${$("#DataBatismo").find("option:selected").text()}?`,"Lista de Presença",function(){var n={idBatismo:$("#DataBatismo").val(),candidatos:PreparaLista()};$.ajaxPost(urlSalvar,n,function(n){n.status==="OK"?window.location=n.url:$.alertError("Lista de Presença",n.msg)})}):$.alertError("Lista de Presença","Favor selecionar uma data para o Batismo para Salvar a Lista!")});$("#lnkRelListaBatismo").click(function(n){n.preventDefault();$("#DataBatismo").val()!==null&&$("#DataBatismo").val()!==""?$.showYesNoAlert("Deseja imprimir a Lista de Presença?","Lista de Presença",function(){var n=$("#DataBatismo").val(),t=$("#DataBatismo").find("option:selected").text(),i="/Secretaria/Relatorios/RelatorioCandidatosBatismo?congregacao=Todas&tipoSaida=PDF&batismoId="+n+"&dataBatismo="+t.replace("/","-").replace("/","-")+"&situacao=0";$.downloadArquivo(i,$("#btnRelatorioListaBatismo"))}):$.alertError("Lista de Presença","Favor selecionar uma data para o Batismo para imprimir a Lista de Presença!")})});
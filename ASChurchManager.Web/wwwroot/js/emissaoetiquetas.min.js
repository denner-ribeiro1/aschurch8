function PesquisarMembro(){let i=$("option:selected",$("#PresencaId")).val(),n=$("option:selected",$("#TipoInscricao")).val(),t={};n=="Membro"?t={presencaId:i,tipo:n,valor:$("#MembroId").val()}:n=="NaoMembro"&&(t={presencaId:i,tipo:n,valor:$("#Cpf").val()});$.ajaxPost(urlBuscarMembro,t,function(t){if(t.status=="OK"){let i=t.data;i==null||i==undefined||i.Id==0?($.bsMessageError("Atenção","Membro não cadastrado para o Curso/Evento!"),$("#MembroId").val(""),$("#Cpf").val(""),$("#NomeMembro").val(""),$("#NomeCpf").val("")):n=="Membro"?$("#NomeMembro").val(i.Nome):n=="NaoMembro"&&$("#NomeCpf").val(i.Nome)}else $.bsMessageError("Atenção",t.Message)})}let posicao="",chbSelId="",margem={};$(()=>{$(".posicao").iCheck("destroy");$("#TipoInscricao").change(n=>{n.preventDefault;let t=$("option:selected",$("#TipoInscricao")).val();t=="Membro"?($("#divMembro").show(),$("#divNaoMembro").hide()):t=="NaoMembro"?($("#divMembro").hide(),$("#divNaoMembro").show()):($("#divMembro").hide(),$("#divNaoMembro").hide())});$("#lnkMembroId").popUp("Pesquisar Membro","MembroObreiros","MembroId",{TipoMembro:3,Status:1});$("#Cpf").change(function(n){n.preventDefault;let t=$("#Cpf").val();t!=""&&PesquisarMembro()});$("#MembroId").change(function(n){n.preventDefault;var t=$("#MembroId").val();t>0&&PesquisarMembro()});$("#chbSelEtiq").on("ifChanged",function(n){n.preventDefault;$('input[id^="chb_"]').each((n,t)=>{$(t).prop("checked",!1)});$("#chbSelEtiq").prop("checked")==!0?$("#divPosInicial").show():$("#divPosInicial").hide()});$(".posicao").on("click",function(n){if(chbSelId!=$(n.currentTarget).attr("id")){n.preventDefault;let t=$(this).attr("id");posicao=$(n.currentTarget).prop("checked")?$(this).val():"";$('input[id^="chb_"]').each((n,i)=>{$(i).attr("id")!=t&&$(i).prop("checked",!1)})}});$("#btnImprimir").click(function(n){n.preventDefault();let t=$("option:selected",$("#PresencaId")).val(),f=$("option:selected",$("#CongregacaoId")).val(),r=$("option:selected",$("#TipoInscricao")).val(),u="";if(r=="Membro"?u=$("#MembroId").val():r=="NaoMembro"&&(u=$("#Cpf").val()),t==null||t==undefined||t==""){$.bsMessageError("Atenção","Favor selecionar o Curso/Evento!");return}let i=`${urlEtiquetas}?idPresenca=${t}&congregacao=${f}&tipo=${r}&valor=${u}`;if($("#chbSelEtiq").prop("checked")&&posicao!=null&&posicao!=""&&(i+=`&posicao=${posicao}`),margem!=null&&(margem.margemTop>0||margem.margemEsq>0)){const{margemTop:n,margemEsq:t}=margem;n>0&&(i+=`&margemTop=${n}`);t>0&&(i+=`&margemEsq=${t}`)}$.downloadArquivo(i,$("#btnImprimir"))});$("#btnConfig").click(()=>{(()=>{const{value:n}=await Swal.fire({title:"Ajustes Margens",html:`<label for="margemTop" class="control-label">Acima</label>
                    <input id="margemTop" type="number" class="form-control" ${margem.margemTop>0?`value="${margem.margemTop}"`:""} oninput="this.value = this.value.replace(/[^0-9]/g, '');">
                    <br />
                    <label for="margemEsq" type="number" class="control-label">Esquerda</label>
                    <input id="margemEsq" type="number" class="form-control" ${margem.margemEsq>0?`value="${margem.margemEsq}"`:""} oninput="this.value = this.value.replace(/[^0-9]/g, '');">`,focusConfirm:!1,showCancelButton:!0,confirmButtonText:'<i class="glyphicon glyphicon-floppy-saved"><\/i> Salvar',cancelButtonText:'<i class="glyphicon glyphicon-home"><\/i> Fechar',preConfirm:()=>{let n={margemTop:document.getElementById("margemTop").value,margemEsq:document.getElementById("margemEsq").value};return n.margemTop>100?(Swal.showValidationMessage(`A Margem Acima deve ser menor que 100`),!1):n.margemEsq>100?(Swal.showValidationMessage(`A Margem Esquerda deve ser menor que 100`),!1):n}});n&&(margem=n)})()})});
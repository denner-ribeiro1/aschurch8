function HabilitarLinkConjuge(n){$("#IdConjuge").hide();$("#lnkIdConjuge").hide();n?($("#lnkIdConjuge").show(),$("#Pessoa_IdConjuge").removeAttr("readonly"),$("#Pessoa_IdConjuge").attr("style","margin-top: 5px;"),$("#Pessoa_ConjugeMembro").removeAttr("disabled").change()):($("#IdConjuge").show(),$("#Pessoa_ConjugeMembro").prop("checked",!1).change(),$("#Pessoa_ConjugeMembro").attr("disabled","disabled"),$("#Pessoa_IdConjuge").attr("readonly","readonly"),$("#Pessoa_IdConjuge").val(""),$("#Pessoa_IdConjuge").attr("style","margin-top: 0px;"),$("#Pessoa_NomeConjuge").attr("readonly","readonly"),$("#Pessoa_NomeConjuge").val(""))}function HabilitaDesabilitaCampos(n,t,i,r){n?($("#"+t).show(),$("label[for="+i+"]").hide(),$("#"+i).removeAttr("readonly"),$("#"+i).addClass("alinhar"),$("#"+i).focus(),$("#"+r).attr("readonly","readonly")):($("#"+t).hide(),$("label[for="+i+"]").show(),$("#"+i).attr("readonly","readonly"),$("#"+i).removeClass("alinhar"),$("#"+r).removeAttr("readonly"),$("#"+r).focus())}function HabilitaCamposEndEstrang(n){n?($("#divCaixaPostal").css("display","block"),$("#divCep").css("display","none"),$("#divEndBrasil").css("display","none"),$("#divEndEstrang").css("display","block"),$("#divTelResBr").css("display","none"),$("#divTelCelBr").css("display","none"),$("#divTelComBr").css("display","none"),$("#divTelResEst").css("display","block"),$("#divTelCelEst").css("display","block"),$("#divTelComEst").css("display","block")):($("#divCaixaPostal").css("display","none"),$("#divCep").css("display","block"),$("#divEndBrasil").css("display","block"),$("#divEndEstrang").css("display","none"),$("#divTelResBr").css("display","block"),$("#divTelCelBr").css("display","block"),$("#divTelComBr").css("display","block"),$("#divTelResEst").css("display","none"),$("#divTelCelEst").css("display","none"),$("#divTelComEst").css("display","none"))}function buscarMembro(n,t,i){if(n>0){var r={MembroId:n};t="#"+t;$.ajaxPost(urlBuscarMembro,r,function(n){$(t).val("");n.Id==0?($.bsMessageError("Atenção","Membro não cadastrado!"),$(i).val("")):n.Id>0&&$(t).val(n.Nome)})}}$(function(){let n=$("#Pessoa_EstadoCivil").val()=="2";actionName!=undefined&&actionName!=null&&(actionName==="Details"||actionName==="AprovarReprovar"?(HabilitaDesabilitaCampos(!1,"lnkPaiId","Pessoa_PaiId","Pessoa_NomePai"),HabilitaDesabilitaCampos(!1,"lnkMaeId","Pessoa_MaeId","Pessoa_NomeMae"),HabilitaDesabilitaCampos(!1,"lnkIdConjuge","Pessoa_IdConjuge","Pessoa_NomeConjuge")):(HabilitaDesabilitaCampos($("#Pessoa_PaiMembro").prop("checked"),"lnkPaiId","Pessoa_PaiId","Pessoa_NomePai"),HabilitaDesabilitaCampos($("#Pessoa_MaeMembro").prop("checked"),"lnkMaeId","Pessoa_MaeId","Pessoa_NomeMae"),HabilitaDesabilitaCampos(n&&$("#Pessoa_ConjugeMembro").prop("checked"),"lnkIdConjuge","Pessoa_IdConjuge","Pessoa_NomeConjuge")));n==!0?$("#divConjuge").css("display","block"):$("#divConjuge").css("display","none");$("#lnkPaiId").popUp("Pesquisar - Pai","Membro","Pessoa_PaiId",{FiltrarUsuario:"N"});$("#Pessoa_PaiId").change(function(){var n=$(this).val();buscarMembro(n,"Pessoa_NomePai",this)});$("#Pessoa_PaiMembro").change(function(){HabilitaDesabilitaCampos($("#Pessoa_PaiMembro").prop("checked"),"lnkPaiId","Pessoa_PaiId","Pessoa_NomePai");$("#Pessoa_PaiMembro").prop("checked")?$("#Pessoa_NomePai").val(""):$("#Pessoa_PaiId").val("")});$("#lnkMaeId").popUp("Pesquisar - Mãe","Membro","Pessoa_MaeId",{FiltrarUsuario:"N"});$("#Pessoa_MaeId").change(function(){var n=$(this).val();buscarMembro(n,"Pessoa_NomeMae",this)});$("#Pessoa_MaeMembro").change(function(){HabilitaDesabilitaCampos($("#Pessoa_MaeMembro").prop("checked"),"lnkMaeId","Pessoa_MaeId","Pessoa_NomeMae");$("#Pessoa_MaeMembro").prop("checked")?$("#Pessoa_NomeMae").val(""):$("#Pessoa_MaeId").val("")});$("#Pessoa_ConjugeMembro").change(function(){HabilitaDesabilitaCampos($("#Pessoa_ConjugeMembro").prop("checked"),"lnkIdConjuge","Pessoa_IdConjuge","Pessoa_NomeConjuge");$("#Pessoa_ConjugeMembro").prop("checked")?$("#Pessoa_NomeConjuge").val(""):$("#Pessoa_IdConjuge").val("")});$("#Pessoa_Cpf").change(function(){var n=$(this).val(),t;n!=null&&n!=undefined&&n!=""&&(t={Cpf:n,Id:$("#Id").val()},$.ajaxPost("/Secretaria/Membro/VerificaCpfDuplicado",t,function(n){if(n.status=="ERRO"){var t=$(document).find("[data-valmsg-for='Pessoa.Cpf']");return t.html('<span id="Nome-error" class="">'+n.mensagem+"<\/span>"),!1}}))});$("#lnkIdConjuge").popUp("Pesquisar Cônjuge","Membro","Pessoa_IdConjuge",{FiltrarUsuario:"N"});$("#Pessoa_IdConjuge").change(function(){var n=$(this).val(),t;n>0&&(t={MembroId:n},$.ajaxPost(urlBuscarMembro,t,function(n){if($("#Pessoa_NomeConjuge").val(""),n.Id==0)$.bsMessageError("Atenção","Membro não cadastrado!"),$("#Pessoa_IdConjuge").val(""),$("#Pessoa_NomeConjuge").val("");else if(n.Id>0){$("#Pessoa_NomeConjuge").val(n.Nome);$("#Endereco_Logradouro").val(n.Endereco.Logradouro);$("#Endereco_Numero").val(n.Endereco.Numero);$("#Endereco_Complemento").val(n.Endereco.Complemento);$("#Endereco_Pais").val(n.Endereco.Pais);HabilitaCamposEndEstrang(n.Endereco.Pais!="Brasil");n.Endereco.Pais=="Brasil"?($("#Endereco_Cep").val(n.Endereco.Cep),$("#Endereco_Bairro").val(n.Endereco.Bairro),$("#Endereco_Cidade").val(n.Endereco.Cidade),$("#Endereco_Estado").val(n.Endereco.Estado)):($("#Endereco_CodigoPostal").val(n.Endereco.Cep),$("#Endereco_BairroEstrangeiro").val(n.Endereco.Bairro),$("#Endereco_CidadeEstrangeiro").val(n.Endereco.Cidade),$("#Endereco_Provincia").val(n.Endereco.Estado));switch(n.Sexo){case 1:$("#Pessoa_Sexo").val(2);case 2:$("#Pessoa_Sexo").val(1)}}}))});$("#Pessoa_EstadoCivil").change(function(){let n=$("option:selected",$(this)).text()=="Casado";HabilitaDesabilitaCampos(n&&$("#Pessoa_ConjugeMembro").prop("checked"),"lnkIdConjuge","Pessoa_IdConjuge","Pessoa_NomeConjuge");HabilitarLinkConjuge(n);n==!0?$("#divConjuge").css("display","block"):$("#divConjuge").css("display","none")});let t=$("#Endereco_Pais").val();HabilitaCamposEndEstrang(t!="Brasil");$("#Pessoa_Nome").focus()});
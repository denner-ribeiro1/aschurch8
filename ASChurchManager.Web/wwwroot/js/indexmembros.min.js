function botao(n,t,i,r,u){var f="";return f='<button type="button" class="btn btn-info btn-sm" id="btnDetalhes" onclick = "javascript:window.location.href=\''+urlDetalhes+"/"+n+'\'"; return false;>     <span class="glyphicon glyphicon-list-alt"><\/span> Detalhes<\/button> <span>&nbsp<\/span>',t==="Pendente Aprovação"&&i&&r?f+='<button type="button" class="btn btn-primary btn-sm" id="btnAprovar" onclick = "javascript:window.location.href=\''+urlAprovar+"/"+n+'\'"; return false;>     <span class="glyphicon glyphicon-wrench"><\/span> Aprovar/Reprovar<\/button> <span>&nbsp<\/span>':t==="Ativo"&&u&&(f+='<button type="button" data-print="'+n+'" class="btn btn-warning btn-sm" id="btnImprimir" onclick = "GerarCarteirinha('+n+'); return false;">     <span class="glyphicon glyphicon-user"><\/span> Carteirinha<\/button>'),f}function GerarCarteirinha(n){var t={Id:n};$.ajaxPost("/Secretaria/Membro/VerificaVencimentoCarteirinha",t,function(t){var i,r,u;t.DataValidade!=""&&t.DataValidade!=null?$.showYesNoAlert("A Carteirinha do Membro vence em "+t.DataValidade+". Deseja gerar um novo vencimento para ela?","Carteirinha Membro",function(){var t=urlPrint+"?id="+n.toString()+"&atualizaValidade=true";$.downloadArquivo(t,null)},null,function(){var t=urlPrint+"?id="+n.toString()+"&atualizaValidade=false";$.downloadArquivo(t,null)},null):(i=gerarOverlay(),r=gerarLoadingFrame(),i.append(r),$("body").append(i),setTimeout(function(){i.focus()},0),u=urlPrint+"?id="+n.toString()+"&atualizaValidade=false",$.downloadArquivo(u,null))})}function HabilitarCampos(n){n==="Status"?($("#StatusMembroSelecionado").show(),$("#CongregacaoSelecionado").hide(),$("#Conteudo").hide(),$("#Cpf").hide()):n==="CongregacaoId"?($("#CongregacaoSelecionado").show(),$("#StatusMembroSelecionado").hide(),$("#Conteudo").hide(),$("#Cpf").hide()):n==="Cpf"?($("#Cpf").show(),$("#CongregacaoSelecionado").hide(),$("#StatusMembroSelecionado").hide(),$("#Conteudo").hide()):($("#Conteudo").show(),$("#StatusMembroSelecionado").hide(),$("#CongregacaoSelecionado").hide(),$("#Cpf").hide())}$(function(){var n=$.getQuerystringValue("Status");n!==""&&$("#Filtro").val("Status");HabilitarCampos($("#Filtro").val());$("#Filtro").change(function(n){$("#Conteudo").val("");HabilitarCampos($("#Filtro").val());n.preventDefault()});$("#Conteudo").keypress(function(n){return $("#Filtro").val()==="Id"?(n.keyCode===16&&(isShift=!0),(n.keyCode>=48&&n.keyCode<=57||n.keyCode===8||n.keyCode<=37)&&isShift===!1)?!0:!1:!0});$("#grdMembro").jtable({paging:!0,pageSize:15,sorting:!0,pageSizeChangeArea:!1,defaultSorting:"Id ASC",actions:{listAction:urlList},messages:{noDataAvailable:"Não existem Membros a serem exibidos no momento!"},fields:{Id:{title:"Código",width:"6%",key:!0,columnResizable:!1},Nome:{title:"Nome",width:"18%",key:!1,columnResizable:!1},Cpf:{title:"CPF",width:"9%",key:!1,columnResizable:!1},NomeMae:{title:"Nome da Mãe",width:"18%",key:!1,columnResizable:!1},Congregacao:{title:"Congregação",width:"18%",key:!1,columnResizable:!1},Status:{title:"Status",width:"10%",key:!1,columnResizable:!0},Botoes:{title:"",width:"30%",sorting:!1,display:function(n){return botao(n.record.Id,n.record.Status,n.record.Sede,n.record.PermiteAprovarMembro,n.record.PermiteImprimirCarteirinha)}}}});$("#btnPesquisar").click(function(n){n.preventDefault();var t=$("#Conteudo").val();$("#Filtro").val()==="Status"?t=$("#StatusMembroSelecionado").val():$("#Filtro").val()==="CongregacaoId"?t=$("#CongregacaoSelecionado").val():$("#Filtro").val()==="Cpf"&&(t=$("#Cpf").val());$("#grdMembro").jtable("load",{filtro:$("#Filtro").val(),conteudo:t})});$("#btnPesquisar").click()});
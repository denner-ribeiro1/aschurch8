function Pesquisar(n){let t=`${urlPesquisar}?page=${n}&pageSize=5&data=${$("#Data").val()}&path=${$("#Action").val()}&exception=${$("#Exception").val()}`;$.ajax({cache:!1,type:"GET",url:t,error:function(n,t,i){console.log(i);console.log(n.responseText)},success:n=>{n.Status=="OK"?(MontarPaginacao(n.Count),MontarDados(n.Items),n.Count>0?$("#divInfo").html(`PÃ¡gina ${paginaAtual} de ${n.Count}`):$("#divInfo").html(`Quantidade de Itens: ${n.Items.length}`)):$.alert(n.Erro)},complete:function(){removerOverlay(null)}})}function MontarDados(n){let i="";for(var t=0;t<n.length;t++)i+=`<div id="logs"><div>
            <span style="font-weight:bold">Data:</span>
            <span>${n[t].Timestamp}</span>
        </div>
        <div>
            <span style="font-weight:bold">Mensagem:</span>
            <span>${n[t].MessageTemplate}</span>
        </div>
        <div>
            <span style="font-weight:bold">Action:</span>
            <span>${n[t].Properties.ActionName}</span>
        </div>
        <div>
            <span style="font-weight:bold">Path:</span>
            <span>${n[t].Properties.RequestPath}</span>
        </div>
        <div>
            <span style="font-weight:bold">Exception:</span>
        </div>
        <div>
            <textarea style="width: 100%;height: 50vh; box-sizing:border-box;resize:none" readonly="readonly">${n[t].Exception}</textarea>
            <br />
        </div></div>`;let r=$("#divItens");r.html(i)}function MontarPaginacao(n){var i;$("#ulItems").empty();let t="";if(n<=6)for(i=1;i<=n;i++)t+=paginaAtual!=i?`<li><a href="javascript:void(0);" onclick="clickpage(${i})">${i}</a></li>`:`<li><span>${i}</span></li>`;else{paginaAtual==1?(t+=`<li><span><<</span></li>`,t+=`<li><span><</span></li>`):(t+='<li><a href="javascript:void(0);" id="a_start" onclick=clickpage(1)><<<\/a><\/li>',t+='<li><a href="javascript:void(0);" id="a_previos" onclick=previusPage()><<\/a><\/li>');t+=paginaAtual!=1?`<li><a href="javascript:void(0);" onclick="clickpage(1)">1</a></li>`:`<li><span>1</span></li>`;t+=paginaAtual!=2?`<li><a href="javascript:void(0);" onclick="clickpage(2)">2</a></li>`:`<li><span>2</span></li>`;let u=paginaAtual+1,r=paginaAtual-1;if(paginaAtual>=2&&paginaAtual<=4)for(i=2;i<=u;i++)i!=2&&(t+=`<li><a href="javascript:void(0);" onclick="clickpage(${i})">${i}</a></li>`);if(t+=`<li><span>...</span></li>`,r>n-4&&paginaAtual<=n)for(i=r;i<n-1;i++)i!=n-1&&(t+=`<li><a href="javascript:void(0);" onclick="clickpage(${i})">${i}</a></li>`);paginaAtual>4&&r<=n-4&&(t+=`<li><a href="javascript:void(0);" onclick="clickpage(${r})">${r}</a></li>`,t+=`<li><a href="javascript:void(0);" onclick="clickpage(${paginaAtual})">${paginaAtual}</a></li>`,p=paginaAtual+1,t+=`<li><a href="javascript:void(0);" onclick="clickpage(${u})">${u}</a></li>`,t+=`<li><span>...</span></li>`);t+=paginaAtual!=n-1?`<li><a href="javascript:void(0);" onclick="clickpage(${n-1})">${n-1}</a></li>`:`<li><span>${n-1}</span></li>`;t+=paginaAtual!=n?`<li><a href="javascript:void(0);" onclick="clickpage(${n})">${n}</a></li>`:`<li><span>${n}</span></li>`;paginaAtual==n?(t+=`<li><span>></span></li>`,t+=`<li><span>>></span></li>`):(t+='<li><a href="javascript:void(0);" id="a_next" onclick=nextPage()>><\/a><\/li>',t+=`<li><a href="javascript:void(0);" id="a_end" onclick=clickpage(${n})>>></a></li>`)}$("#ulItems").append(t)}function clickpage(n){return paginaAtual=n,Pesquisar(paginaAtual),!1}function previusPage(){return paginaAtual--,Pesquisar(paginaAtual),!1}function nextPage(){return paginaAtual++,Pesquisar(paginaAtual),!1}var paginaAtual=1;$(document).ready(function(){"use strict";Pesquisar(1);$("#btnPesquisar").click(()=>{Pesquisar(1)});$("#ExcluirTodosRegistros").change(function(){this.checked?$("#QtdRegistroExcluir").attr("readonly","readonly"):$("#QtdRegistroExcluir").removeAttr("readonly")});$("#btnExcluir").click(()=>{if($("#ExcluirTodosRegistros").prop("checked")==!1&&($("#QtdRegistroExcluir").val()==null||$("#QtdRegistroExcluir").val()==""||parseInt($("#QtdRegistroExcluir").val())==0)){$.alert("Quantidade de registros deve ser maior que zero.");return}var n={qtdRegistroExcluir:$("#QtdRegistroExcluir").val(),excluirTodosRegistros:$("#ExcluirTodosRegistros").prop("checked")};$.ajax({cache:!1,type:"POST",url:urlExcluir,contentType:"application/x-www-form-urlencoded",dataType:"json",data:n,error:function(n,t,i){console.log(i);console.log(n.responseText)},success:n=>{n.Status=="OK"?($.alert("Registros excluidos com sucesso."),$("#QtdRegistroExcluir").val("0"),Pesquisar(1)):$.alert(n.Erro)},complete:function(){removerOverlay(null)}})})});
@using ASChurchManager.Web.Lib

@section styles{
    <link rel="stylesheet" href="~/css/plugins/fullcalendar/fullcalendar.min.css" />
}

<div class="row">
    <div class="col-md-12" id="divGraficos">
    </div>
</div>

<div class="row">
    <div class="col-md-6" style="padding-right:5px; padding-bottom:0px">
        <div class="box box-danger">
            <div class="box-header with-border">
                <h3 class="box-title"><span style="font-size: 16px;"> <i class="fa fa-users"></i> Membros Pendentes ou não Aprovados</span></h3>
            </div>
            <div class="box-body" style="min-height:380px">
                <div id="grdMembrosPendentes">
                </div>
            </div>
        </div>

    </div>
    <div class="col-md-6" style="padding-left:5px; padding-bottom:0px">
        <div class="box box-info">
            <div class="box-header with-border">
                <h3 class="box-title"><span style="font-size: 16px;"><i class="fa fa-edit"></i> Cartas Pendentes para Aprovação</span></h3>
            </div>
            <div class="box-body" style="min-height:380px">
                <div id="grdCarta">
                </div>
            </div>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-6" style="padding-right:5px; padding-bottom:0px">
        <div class="box box-info">
            <div class="box-header with-border">
                <h3 class="box-title"><span style="font-size: 16px;"><i class="fa fa-calendar"></i> Eventos da Semana</span></h3>
            </div>
            <div class="box-body">
                <div id='calendar-container'>
                    <div class="calendario" id='calendar'></div>
                </div>
            </div>
        </div>

    </div>

    <div class="col-md-6" style="padding-left:5px; padding-bottom:0px">
        <div class="nav-tabs-custom" style="min-height: 590px;max-height: 590px;">
            <!-- Tabs within a box -->
            <ul class="nav nav-tabs pull-right ui-sortable-handle">
                @{
                    if (UserAppContext.Current.Usuario.Congregacao.Sede)
                    {
                        <li class="active"><a href="#eventos" data-toggle="tab" aria-expanded="true">Eventos</a></li>
                        <li class=""><a href="#eventosSede" data-toggle="tab" aria-expanded="false">Eventos nas Congregações</a></li>
                        <li class="pull-left header"><span style="font-size: 16px;"><i class="fa fa-calendar"></i> Próximos Eventos</span></li>
                    }
                    else
                    {
                        <li class="active"><a href="#eventos" data-toggle="tab" aria-expanded="true">Eventos</a></li>
                        <li class=""><a href="#eventosSede" data-toggle="tab" aria-expanded="false">Eventos na Sede</a></li>
                        <li class="pull-left header"><span style="font-size: 16px;"><i class="fa fa-calendar"></i> Próximos Eventos</span></li>
                    }
                }

            </ul>
            <div class="tab-content no-padding with-border">
                @{
                    if (UserAppContext.Current.Usuario.Congregacao.Sede)
                    {
                        <div class="chart tab-pane active" id="eventos" style="position: relative; -webkit-tap-highlight-color: rgba(0, 0, 0, 0);padding-bottom:10px;">
                            <div class="col-lg-12" style="padding-top:10px">
                                <div id="gridEventosSede">
                                </div>
                            </div>
                        </div>
                        <div class="chart tab-pane" id="eventosSede" style="position: relative; padding-bottom:10px;">
                            <div class="col-lg-12" style="padding-top:10px">
                                <div id="gridEventos">
                                </div>

                            </div>
                        </div>
                    }
                    else
                    {
                        <div class="chart tab-pane active" id="eventos" style="position: relative; -webkit-tap-highlight-color: rgba(0, 0, 0, 0);padding-bottom:10px;">
                            <div class="col-lg-12" style="padding-top:10px">
                                <div id="gridEventos">
                                </div>
                            </div>
                        </div>
                        <div class="chart tab-pane" id="eventosSede" style="position: relative; padding-bottom:10px;">
                            <div class="col-lg-12" style="padding-top:10px">
                                <div id="gridEventosSede">
                                </div>
                            </div>
                        </div>

                    }
                }
            </div>
        </div>
    </div>
</div>

<script>
    var urlMembroPend = "@Url.Action("MembrosPendentes", "Dashboard", new { Area = "Secretaria"})";
    var urlCartaPend = "@Url.Action("CartasPendentes", "Dashboard", new { Area = "Secretaria"})";
    var urlEvento = "@Url.Action("Eventos", "Dashboard", new { Area = "Secretaria"})";
    var urlAprovar = "@Url.Action("AprovarReprovar", "Membro", new { Area = "Secretaria"})";
    var urlDet = "@Url.Action("Details", "Membro", new { Area = "Secretaria"})";
    var urlAprovCarta = "@Url.Action("AprovarCarta", "Carta", new { Area = "Secretaria" })";
</script>

@section scripts
{
    <script src="~/lib/fullcalendar.min.js"></script>
    <script src="~/js/index.min.js"></script>
}